---
version: 0.2.0
repo:
  local: ~/dotfiles
  remote: https://github.com/user/dotfiles.git
shell: zsh
build:
  # Conditional instructions
  - case:
    - positive:
        spec:
          user: not_user
        include:
        - install:
          - name: not_package
            managers:
            - apt
    - default:
        include:
        # Nested conditional
        - case:
          - positive:
              spec:
                user: not_user
              include:
                - bootstrap:
                  - choco
          - negative:
              spec:
                user: not_user
              include:
                - install:
                  - name: package_0
                    managers:
                      - choco
        - install:
          - name: package_1
            managers:
            - apt
            - apt-get
  # Top level instructions
  - bootstrap:
    - cargo
    - brew
  - link:
    - tail: tail_1
      head: ${{ repo.local }}/head_1
  - bundle:
      manager: brew
      packages:
      - package_2
      - package_3
      - package_4
  - run: |
      echo "hello world"
      echo "repo root ${{ repo.local }}"
